Решил исходить из сценариев использования Амодуля и для каждого рассмотреть то, что на мой взгляд стоит протестировать.

### Потенциальные места для тестирования Амодуль

#### DWH исполнение

Целиком DWH исполнение думаю особо смысла тестировать нет, т.к. половину работы выполняет сама база данных. Амодуль лишь формирует запрос для исполнения. Поэтому предлагаю на это и сделать упор в тестировании.

Сейчас есть два подхода к формированию SQL запроса: Groovy скрипты и Kotlin DSL скрипты.

Для обоих этих подходов я предлагаю оценить:
1. Потребление RAM сервисом для формирования SQL запроса.
2. Может ли Script Engine параллельно заниматься формированием SQL запросов для разных узлов.

Потребление RAM покажется сколько одновременно работающих Groovy узлов* сможет обработать сервис прежде чем упадем с OOM.

Проверка Script Engine даст понимание того сколько одновременно работающих Kotlin DSL узлов* сможет обрабатывать сервис, т.к. один экземпляр Script Engine может обрабатывать только один скрипт за раз.
#### Batch исполнение

Batch в отличии от DWH для исполнения требует Kubernetes и почти вся работа бывает происходит не в сервисах Амодуля, а в Kubernetes. Исходя из этого нужно оценить работу сервиса `ms-kubernetes-job-runner` под нагрузкой.

В функции сервиса `ms-kubernetes-job-runner` входит:
1. Запуск подов с узлами.
2. Остановка подов с узлами.
3. Отслеживание изменения состояния у запущенные подов-узлов и реагировать на эти изменения.

Для тестирования функции запуска подов нужно понять **как ведет себя сервис в случаях когда ресурсы Kubernetes закончились**.
На это поведение влияет наличие указанных в манифесте лимитов по ресурсам.
(TODO: указать про поведение с указанными и не указанными лимитами)

Функции связанные с остановкой подов и отслеживанием их состояния особо не протестируешь.

#### Online исполнение

Online исполнении связано с Kafka и сервисом `ms-kubernetes-job-runner`.

Kafka нужна для коммуникаций. 
Сервис `ms-kubernetes-job-runner` занимается запуском узлов, т.к. узлы данного типа исполнения тоже исполняются в Kubernetes.

Kafka, думаю, тестировать особо смысла нет, т.к. она и так умеет справляться с высокими нагрузками.
Хотя с другой стороны, думаю, это зависит от того как она настроена и не факт, что наша текущая конфигурация является производительной и, возможно, имеет смысл нагрузить отдельно Kafka, чтобы понять на что она у нас способна.

#### Сервис ms-message-broker

Этот сервис нужен для стабильной работы всей платформы, поэтому, думаю, имеет смысл понять как он сам работает под нагрузкой.

#### Прочее

Также знаю о проблеме (узнал от Кати) возникшей у РСХБ связанной с заполнением памяти БД из-за темповых таблиц. Возможно, стоит обратить на это внимание убедиться, что ненужные таблицы вовремя удаляются.  

Также в опросниках (попросил их у Лены) увидел, что некоторые клиенты хотят определенную производительность некоторых узлов (SMS/push, E-mail).
Частично производительность подобных узлов зависит от внешних факторов вроде провайдера через которого это делается, но в то же время имеет место то, на сколько оптимально реализован сам узел. Если, например, в узле обработка идет поштучно, то вряд ли удастся получить большую производительность даже если провайдер не препятствует этому.
Я это к тому, что было бы неплохо иметь представление о производительности некоторых узлов. Ведь даже если у узла много ресурсов он не сможет их оптимально реализовать.
